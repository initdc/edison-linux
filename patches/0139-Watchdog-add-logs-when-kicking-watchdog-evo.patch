From 141bb59a06b6ab3e9333372b029989e1b5eeae23 Mon Sep 17 00:00:00 2001
From: Jacques Imougar <jacquesx.imougar@intel.com>
Date: Fri, 22 Nov 2013 16:32:56 +0100
Subject: [PATCH 139/429] Watchdog: add logs when kicking watchdog evo

Signed-off-by: Jacques Imougar <jacquesx.imougar@intel.com>
---
 drivers/watchdog/intel_scu_watchdog_evo.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/drivers/watchdog/intel_scu_watchdog_evo.c b/drivers/watchdog/intel_scu_watchdog_evo.c
index 1c07da7b9f1f..6572a5e472c8 100644
--- a/drivers/watchdog/intel_scu_watchdog_evo.c
+++ b/drivers/watchdog/intel_scu_watchdog_evo.c
@@ -276,7 +276,11 @@ static int watchdog_stop(void)
 /* warning interrupt handler */
 static irqreturn_t watchdog_warning_interrupt(int irq, void *dev_id)
 {
-	pr_warn("[SHTDWN] %s, WATCHDOG TIMEOUT!\n", __func__);
+	if (unlikely(!kicking_active))
+		pr_warn("[SHTDWN] WATCHDOG TIMEOUT for test!, %s\n", __func__);
+
+	else
+		pr_warn("[SHTDWN] %s, WATCHDOG TIMEOUT!\n", __func__);
 
 	/* Let's reset the platform after dumping some data */
 	trigger_all_cpu_backtrace();
-- 
2.37.3

